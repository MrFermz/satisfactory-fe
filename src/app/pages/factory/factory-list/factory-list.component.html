<div class="container-fluid">
  <button
    [routerLink]="['/factory/create']"
    pButton
    label="Create"
  ></button>

  <div class="mt-5">
    <p-table [value]="factoryData" styleClass="p-datatable-sm">
      <ng-template pTemplate="header">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Output</th>
          <th>Action</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-factory let-i="rowIndex">
        <tr>
          <td>{{i+1}}</td>
          <td>{{factory.name}}</td>
          <td>{{sumBy(factory.data, 'outputRate')}}</td>
          <td>
            <button
              (click)="onAction('/factory/edit', factory.id)"
              class="p-button-secondary"
              pButton
              label="Edit"
            ></button>
            <button
              (click)="onDelete(factory.id)"
              [disabled]="factory.locked"
              class="p-button-danger"
              pButton
              label="Delete"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>